#!/usr/bin/env bash

command=$1
libexec="/usr/libexec/is/"
PATH="$PATH:$libexec"

check ()
{
  if [ ! -z $1 ]; then
    echo "Argument 2 required";
  fi;
}

has ()
{
  if [ ! -z $2 ]; then
    echo "Argument $1 required";
  fi;
}

case "$command" in
  init)
    is-init
  clean)
    is-clean
  add-library)
    check $2
    is-add-library $2
  add-company-library)
    check $2
    is-add-company-library $2
  *)
    if has 7 $7; then
      is-compile-library $2 $3 $4 $5 $6 $7
    elif has 3 $3; then
      is-compile-binary $2 $3
    else
      bad-command
    fi;
esac
exit 0;
